<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">

<!--Converted with LaTeX2HTML 2K.1beta (1.62)
original version by:  Nikos Drakos, CBLU, University of Leeds
* revised and updated by:  Marcus Hennecke, Ross Moore, Herb Swan
* with significant contributions from:
  Jens Lippmann, Marek Rouchal, Martin Wilck and others -->
<HTML>
<HEAD>
<TITLE>Functions</TITLE>
<META NAME="description" CONTENT="Functions">
<META NAME="keywords" CONTENT="man">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">

<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=iso-8859-1">
<META NAME="Generator" CONTENT="LaTeX2HTML v2K.1beta">
<META HTTP-EQUIV="Content-Style-Type" CONTENT="text/css">

<LINK REL="STYLESHEET" HREF="man.css">

<LINK REL="next" HREF="node88.html">
<LINK REL="previous" HREF="node86.html">
<LINK REL="up" HREF="node85.html">
<LINK REL="next" HREF="node88.html">
</HEAD>

<BODY >
<!--Navigation Panel-->
<A NAME="tex2html1686"
  HREF="node88.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next" SRC="next.png"></A> 
<A NAME="tex2html1682"
  HREF="node85.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up" SRC="up.png"></A> 
<A NAME="tex2html1676"
  HREF="node86.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous" SRC="prev.png"></A> 
<A NAME="tex2html1684"
  HREF="node1.html">
<IMG WIDTH="65" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="contents" SRC="contents.png"></A>  
<BR>
<B> Next:</B> <A NAME="tex2html1687"
  HREF="node88.html">COMPLEX: Complex value</A>
<B> Up:</B> <A NAME="tex2html1683"
  HREF="node85.html">Behavioral modeling</A>
<B> Previous:</B> <A NAME="tex2html1677"
  HREF="node86.html">Conditionals</A>
 &nbsp <B>  <A NAME="tex2html1685"
  HREF="node1.html">Contents</A></B> 
<BR>
<BR>
<!--End of Navigation Panel-->
<!--Table of Child-Links-->
<A NAME="CHILD_LINKS"><STRONG>Subsections</STRONG></A>

<UL>
<LI><A NAME="tex2html1688"
  HREF="node87.html#SECTION00521000000000000000">The extensions</A>
<LI><A NAME="tex2html1689"
  HREF="node87.html#SECTION00522000000000000000">Fixed sources</A>
<LI><A NAME="tex2html1690"
  HREF="node87.html#SECTION00523000000000000000">Capacitors and inductors</A>
<LI><A NAME="tex2html1691"
  HREF="node87.html#SECTION00524000000000000000">Resistors and conductances</A>
<LI><A NAME="tex2html1692"
  HREF="node87.html#SECTION00525000000000000000">Controlled sources</A>
<LI><A NAME="tex2html1693"
  HREF="node87.html#SECTION00526000000000000000">Available functions</A>
<LI><A NAME="tex2html1694"
  HREF="node87.html#SECTION00527000000000000000">Parameters that apply to all functions</A>
</UL>
<!--End of Table of Child-Links-->
<HR>

<H1><A NAME="SECTION00520000000000000000">
Functions</A>
</H1>

<P>
Gnucap behavioral modeling functions are an extension of the Spice source
time dependent values.

<H2><A NAME="SECTION00521000000000000000">
The extensions</A>
</H2>

<P>
They apply to all elements (primitive components).

<P>
All accept either Spice compatible order dependent parameters, or
easier keyword=value notation.

<P>
The syntax is identical for all supported components.

<H2><A NAME="SECTION00522000000000000000">
Fixed sources</A>
</H2>

<P>
Time dependent functions are voltage or current as a function of time.
They are mostly Spice compatible, with extensions.

<P>
Nonlinear transfer functions use time as the independent variable.
Some may not make sense, but they are there anyway.

<H2><A NAME="SECTION00523000000000000000">
Capacitors and inductors</A>
</H2>

<P>
Time dependent functions are capacitance or inductance as a function
of time.  They are voltage/current conserving, not charge/flux
conserving.

<P>
Nonlinear transfer functions are charge or flux as a function of input
(voltage or current).  Charge and flux are conserved, and can be
probed.

<H2><A NAME="SECTION00524000000000000000">
Resistors and conductances</A>
</H2>

<P>
Time dependent functions are resistance or conductance as a function
of time.

<P>
Nonlinear transfer functions are current or voltage as a function of
input (voltage or current).  Resistors define voltage as a function of
current.  Conductances define current as a function of voltage.

<H2><A NAME="SECTION00525000000000000000">
Controlled sources</A>
</H2>

<P>
Time dependent functions are gain (v/v, transconductance, etc)
function of time.

<P>
Nonlinear transfer functions are output (voltage or current) as a
function of input (voltage or current).

<H2><A NAME="SECTION00526000000000000000">
Available functions</A>
</H2>

<P>
<DL>
<DT><STRONG><TT>COMPLEX</TT></STRONG></DT>
<DD>Complex (re, im) value.
</DD>
<DT><STRONG><TT>EXP</TT></STRONG></DT>
<DD>Spice Exp source.  (time dependent value).
</DD>
<DT><STRONG><TT>FIT</TT></STRONG></DT>
<DD>Fit a curve with splines.
</DD>
<DT><STRONG><TT>GENERATOR</TT></STRONG></DT>
<DD>Value from Generator command.
</DD>
<DT><STRONG><TT>POLY</TT></STRONG></DT>
<DD>Polynomial (Spice style).
</DD>
<DT><STRONG><TT>POSY</TT></STRONG></DT>
<DD>Posynomial (Like poly, non-integer powers).
</DD>
<DT><STRONG><TT>PULSE</TT></STRONG></DT>
<DD>Spice Pulse source.  (time dependent value).
</DD>
<DT><STRONG><TT>PWL</TT></STRONG></DT>
<DD>Piece-wise linear.
</DD>
<DT><STRONG><TT>SFFM</TT></STRONG></DT>
<DD>Spice Frequency Modulation (time dependent value).
</DD>
<DT><STRONG><TT>SIN</TT></STRONG></DT>
<DD>Spice Sin source.  (time dependent value).
</DD>
<DT><STRONG><TT>TANH</TT></STRONG></DT>
<DD>Hyperbolic tangent transfer function.

<P>
</DD>
</DL>

<P>
In addition, you may name a ``function'' defined by a <TT>.model</TT>
statement.  The following <TT>.model</TT> types may be used here:

<P>
<DL>
<DT><STRONG><TT>TABLE</TT></STRONG></DT>
<DD>Fit a curve with splines.
</DD>
<DT><STRONG><TT>Cap</TT></STRONG></DT>
<DD>Spice semiconductor ``capacitor'' model.
</DD>
<DT><STRONG><TT>Res</TT></STRONG></DT>
<DD>Spice semiconductor ``resistor'' model.

<P>
</DD>
</DL>
<H2><A NAME="SECTION00527000000000000000">
Parameters that apply to all functions</A>
</H2>

<P>
These parameters are available with all functions.  Some may not make
sense in some cases, but they are available anyway.

<P>
<DL>
<DT><STRONG><TT>Bandwidth</TT> = <I>x</I></STRONG></DT>
<DD>AC analysis bandwidth.
(Default = infinity.)  The transfer function is frequency dependent,
with a 3 DB point at this frequency.  There is frequency dependent
phase shift ranging from 0 degrees at low frequencies to 90 degrees at
high frequencies.  The phase shift is 45 degrees at the specified
frequency.  AC ANALYSIS ONLY.

<P>
</DD>
<DT><STRONG><TT>Delay</TT> = <I>x</I></STRONG></DT>
<DD>AC analysis delay.  (Default = 0.) 
The signal is delayed by x seconds, effectively by a frequency
dependent phase shift.  AC ANALYSIS ONLY.

<P>
</DD>
<DT><STRONG><TT>Phase</TT> = <I>x</I></STRONG></DT>
<DD>AC analysis phase.  (Default = 0.)
A fixed phase shift is applied.  This is primarily intended for
sources, but applies to all elements.  AC ANALYSIS ONLY.

<P>
</DD>
<DT><STRONG><TT>IOffset</TT> = <I>x</I></STRONG></DT>
<DD>Input offset.  (Default = 0.)
A DC offset is added to the ``input'' of the element, before
evaluating the function.

<P>
</DD>
<DT><STRONG><TT>OOffset</TT> = <I>x</I></STRONG></DT>
<DD>Output offset.  (Default = 0.)
A DC offset is added to the ``output'' of the element, after
evaluating the function.

<P>
</DD>
<DT><STRONG><TT>Scale</TT> = <I>x</I></STRONG></DT>
<DD>Transfer function scale factor.  
(Default = 1.)  The transfer function is multiplied by a constant.

<P>
</DD>
<DT><STRONG><TT>TNOM</TT> = <I>x</I></STRONG></DT>
<DD>Nominal temperature.  (Default = .option TNOM)
The nominal values apply at this temperature.

<P>
</DD>
<DT><STRONG><TT>TC1</TT> = <I>x</I></STRONG></DT>
<DD>First order temperature coefficient.
(Default = 0.) 

<P>
</DD>
<DT><STRONG><TT>TC2</TT> = <I>x</I></STRONG></DT>
<DD>Second order temperature coefficient.
(Default = 0.) 

<P>
</DD>
<DT><STRONG><TT>IC</TT> = <I>x</I></STRONG></DT>
<DD>Initial condition.  An initial value, to
force at time=0.  The actual parameter applied depends on the
component.  (Capacitor voltage, inductor current.  All others ignore
it.)  You must use the ``UIC'' option for it to be used.

<P>
</DD>
</DL>

<P>
Temperature adjustments and scaling use the following formula:
<PRE>
value *= _scale * (1 + _tc1*tempdiff 
              + _tc2*tempdiff*tempdiff)
</PRE>
where <TT>tempdiff</TT> is <TT>t - _tnom</TT>.

<P>
<HR>
<!--Navigation Panel-->
<A NAME="tex2html1686"
  HREF="node88.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next" SRC="next.png"></A> 
<A NAME="tex2html1682"
  HREF="node85.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up" SRC="up.png"></A> 
<A NAME="tex2html1676"
  HREF="node86.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous" SRC="prev.png"></A> 
<A NAME="tex2html1684"
  HREF="node1.html">
<IMG WIDTH="65" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="contents" SRC="contents.png"></A>  
<BR>
<B> Next:</B> <A NAME="tex2html1687"
  HREF="node88.html">COMPLEX: Complex value</A>
<B> Up:</B> <A NAME="tex2html1683"
  HREF="node85.html">Behavioral modeling</A>
<B> Previous:</B> <A NAME="tex2html1677"
  HREF="node86.html">Conditionals</A>
 &nbsp <B>  <A NAME="tex2html1685"
  HREF="node1.html">Contents</A></B> 
<!--End of Navigation Panel-->
<ADDRESS>
Al Davis
2002-09-29
</ADDRESS>
</BODY>
</HTML>
