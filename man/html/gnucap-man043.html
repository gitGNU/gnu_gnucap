<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"
            "http://www.w3.org/TR/REC-html40/loose.dtd">
<HTML>
<HEAD>

<META http-equiv="Content-Type" content="text/html; charset=ANSI_X3.4-1968">
<META name="GENERATOR" content="hevea 1.07">
<TITLE>
OPTIONS command
</TITLE>
</HEAD>
<BODY >

<H2><A NAME="htoc42">2.32</A>&nbsp;&nbsp;<TT>OPTIONS</TT> command</H2>
<A NAME="@default146"></A>
<A NAME="@default147"></A>
<A NAME="@default148"></A>
<A NAME="@default149"></A>
<A NAME="@default150"></A>

<H3>2.32.1&nbsp;&nbsp;Syntax</H3>

<TT>OPTions</TT><BR>
<TT>OPTions</TT> <I>option-name value</I> ...


<H3>2.32.2&nbsp;&nbsp;Purpose</H3>
Sets options, iteration parameters, global data.

<H3>2.32.3&nbsp;&nbsp;Comments</H3>
Typical usage is the name of the item to set followed by the
value.<BR>
<BR>
The bare command `<TT>OPTions</TT>' displays the values.<BR>
<BR>
These options control the simulation by specifying how to
handle marginal circumstances, how long to wait for
convergence, etc.<BR>
<BR>
Most of the SPICE options are supported, more have been added.

<H3>2.32.4&nbsp;&nbsp;Parameters</H3>
<DL COMPACT=compact><DT><BR>
<BR>
<A NAME="@default151"></A>
<B><TT>ACCT</TT></B><DD> Turns on accounting. When enabled, print the
CPU time used after each command, and a summary on exit in batch
more. This does not affect accounting done by the <TT>status</TT>
command.<BR>
<BR>
<DT><B><TT>NOACCT</TT></B><DD> Turns off accounting. (Not in SPICE.)<BR>
<BR>
<A NAME="@default152"></A>
<DT><B><TT>LIST</TT></B><DD> Turns on echo of files read by <TT>get</TT> and
<TT>merge</TT> commands, and in batch mode. (SPICE option accepted
but not implemented.)<BR>
<BR>
<DT><B><TT>NOLIST</TT></B><DD> Turns off list option. (Not in SPICE.)<BR>
<BR>
<DT><B><TT>MOD</TT></B><DD> Enable printout of model parameters. (Accepted,
but not implemented, to complement <TT>NOMOD</TT>.)<BR>
<BR>
<DT><B><TT>NOMOD</TT></B><DD> Suppress printout of model parameters. (SPICE
option accepted but not implemented.)<BR>
<BR>
<DT><B><TT>PAGE</TT></B><DD> Enable page ejects at the beginning of
simulation runs. (Accepted, but not implemented, to complement
<TT>NOPAGE</TT>.)<BR>
<BR>
<DT><B><TT>NOPAGE</TT></B><DD> Turn off page ejects. (SPICE option accepted
but not implemented.)<BR>
<BR>
<DT><B><TT>NODE</TT></B><DD> Enable printing of the node table. (SPICE
option accepted but not implemented.)<BR>
<BR>
<DT><B><TT>NONODE</TT></B><DD> Disable printing of the node table.
(Accepted, but not implemented, to complement <TT>NODE</TT>.)<BR>
<BR>
<DT><B><TT>OPTS</TT></B><DD> Enable printing of option values on every options
command.<BR>
<BR>
<DT><B><TT>NOOPTS</TT></B><DD> Disable automatic printing of option values.
Option values are only printed on a null options command.<BR>
<BR>
<A NAME="@default153"></A>
<A NAME="@default154"></A>
<A NAME="@default155"></A>
<DT><B><TT>GMIN</TT> = <I>x</I></B><DD> Minimum conductance allowed by the program.
(Default = 1e-12 or 1 picomho.) Every node must have a net
minimum conductance of <TT>GMIN</TT> to ground. If effective open
circuits are found during the solution process (leading to a
singular matrix) a conductance of <TT>GMIN</TT> is forced to
ground, after printing an "open circuit" error message.<BR>
<BR>
<A NAME="@default156"></A>
<A NAME="@default157"></A>
<A NAME="@default158"></A>
<DT><B><TT>RELTOL</TT> = <I>x</I></B><DD> Relative error tolerance allowed.
(Default =.001 or .1%.)
If the ratio of successive values in iteration are within <TT>RELTOL</TT> of one, this value is considered to have converged.<BR>
<BR>
<A NAME="@default159"></A>
<A NAME="@default160"></A>
<A NAME="@default161"></A>
<DT><B><TT>ABSTOL</TT> = <I>x</I></B><DD> Absolute error tolerance
allowed. (Default = 1e-12)
If successive values in iteration are within <TT>ABSTOL</TT> of
each other, this value is considered to have converged.<BR>
<BR>
<A NAME="@default162"></A>
<A NAME="@default163"></A>
<A NAME="@default164"></A>
<DT><B><TT>VNTOL</TT> = <I>x</I></B><DD> Absolute voltage error required to
force model re-evaluation. (Default = 1e-12 or 1 microvolt.)
If the voltage at the terminals of a model is within <TT>VNTOL</TT> of the previous iteration, the model is not
re-evaluated. The old values are used directly.<BR>
<BR>
<A NAME="@default165"></A>
<A NAME="@default166"></A>
<DT><B><TT>TRTOL</TT> = <I>x</I></B><DD> Transient error ``tolerance''.
(Default = 7.) This parameter is an estimate of the factor by
which the program overestimates the actual truncation error.<BR>
<BR>
<A NAME="@default167"></A>
<A NAME="@default168"></A>
<DT><B><TT>CHGTOL</TT> = <I>x</I></B><DD> Charge tolerance. (Default =
1e-14) It is used in step size control in transient analysis.<BR>
<BR>
<A NAME="@default169"></A>
<A NAME="@default170"></A>
<DT><B><TT>PIVTOL</TT> = <I>x</I></B><DD> Pivot tolerance. (Default =
1e-13) SPICE option accepted but not implemented.<BR>
<BR>
<A NAME="@default171"></A>
<DT><B><TT>PIVREL</TT> = <I>x</I></B><DD> Pivot ratio. (Default = 1e-3)
SPICE option accepted but not implemented.<BR>
<BR>
<A NAME="@default172"></A>
<DT><B><TT>NUMDGT</TT> = <I>x</I></B><DD> Number of significant digits to print
for analysis results. (Default = 5.) It is silently limited to 3
to 20.<BR>
<BR>
<A NAME="@default173"></A>
<A NAME="@default174"></A>
<A NAME="@default175"></A>
<A NAME="@default176"></A>
<DT><B><TT>TNOM</TT> = <I>x</I></B><DD> Nominal temperature. (Default =
27<SUP><FONT SIZE=2><FONT FACE=symbol>°</FONT></FONT></SUP> C.)
All components have their nominal value at this temperature.<BR>
<BR>
<A NAME="@default177"></A>
<A NAME="@default178"></A>
<DT><B><TT>ITL1</TT> = <I>x</I></B><DD> DC iteration limit. (Default = 100.)
Sets the maximum number of iterations in a DC, OP, or initial
transient analysis allowed before stopping and reporting that it
did not converge.<BR>
<BR>
<DT><B><TT>ITL2</TT> = <I>x</I></B><DD> DC transfer curve iteration limit.
(Default = 50.) SPICE option accepted but not implemented.
Use ITL1 instead.<BR>
<BR>
<DT><B><TT>ITL3</TT> = <I>x</I></B><DD> Lower transient iteration limit.
(Default = 4.) If the number of iterations is more than <TT>ITL3</TT>
the step size will not increase beyond its present size. Otherwise,
it can grow by trstepgrow.<BR>
<BR>
<DT><B><TT>ITL4</TT> = <I>x</I></B><DD> Upper transient iteration limit.
(Default = 10.) Sets the maximum number of iterations on a step
in transient analysis. If the circuit fails to converge in this
many iterations the step size is reduced (by option trstepshrink),
time is backed up, and the calculation is repeated.<BR>
<BR>
<DT><B><TT>ITL5</TT> = <I>x</I></B><DD> Transient analysis total iteration
limit. (Default = 5000.) SPICE option accepted but not
implemented. Actual behavior is the same as <TT>ITL5</TT> = 0, in
SPICE, which omits this test.<BR>
<BR>
<DT><B><TT>ITL6</TT> = <I>x</I></B><DD> Source stepping iteration limit.
(Default = 0.) SPICE option accepted but not implemented.
Source stepping is not available.<BR>
<BR>
<A NAME="@default179"></A>
<A NAME="@default180"></A>
<DT><B><TT>ITL7</TT> = <I>x</I></B><DD> Worst case analysis iteration
limit. (Default = 1.)
Sets the maximum number of iterations for the individual
element trials in a DC or bias worst case analysis. If more
iterations than this are necessary, the program silently goes
on to the next step, as if nothing was wrong, which is usually
the case.<BR>
<BR>
<A NAME="@default181"></A>
<DT><B><TT>ITL8</TT> = <I>x</I></B><DD> Convergence diagnostic iteration threshold.
(Default = 100.) If the iteration count on a step exceeds <TT>ITL8</TT>
diagnostic messages are printed in an attempt to aid the user in solving the
convergence problem.<BR>
<BR>
<A NAME="@default182"></A>
<A NAME="@default183"></A>
<DT><B><TT>CPTIME</TT> = <I>x</I></B><DD> Total CPU job time limit.
(Default = 30000.) SPICE option accepted but not implemented.
There is no limit imposed.<BR>
<BR>
<A NAME="@default184"></A>
<DT><B><TT>LIMTIM</TT> = <I>x</I></B><DD> CPU time reserved for plotting.
(Default = 2.) SPICE option accepted but not implemented.<BR>
<BR>
<A NAME="@default185"></A>
<DT><B><TT>LIMPTS</TT> = <I>x</I></B><DD> Max number of points printed.
(Default = 201.) SPICE option accepted but not implemented.<BR>
<BR>
<A NAME="@default186"></A>
<DT><B><TT>LVLCOD</TT> = <I>x</I></B><DD> Matrix solution and allocation
method. (Default = 2, generate machine language.) SPICE
option not implemented.<BR>
<BR>
<A NAME="@default187"></A>
<A NAME="@default188"></A>
<DT><B><TT>LVLTIM</TT> = <I>x</I></B><DD> Time step control method.
(Default = 2, truncation error.) SPICE option not implemented.<BR>
<BR>
<A NAME="@default189"></A>
<A NAME="@default190"></A>
<DT><B><TT>METHOD</TT> = <I>x</I></B><DD> Integration method. (Default =
<TT>TRAPezoidal</TT>.) Possible values are:
<DL COMPACT=compact><DT>
<B><TT>EULER</TT></B><DD> backward Euler, unless forced to other
<DT><B><TT>EULERONLY</TT></B><DD> backward Euler only
<DT><B><TT>TRAP</TT></B><DD> usually trap, but Euler where better
<DT><B><TT>TRAPONLY</TT></B><DD> always trapezoid
</DL>
<A NAME="@default191"></A>
<A NAME="@default192"></A>
<DT><B><TT>DEFL</TT> = <I>x</I></B><DD> MOSFET default channel length in 
meters. (Default = 100u.)<BR>
<BR>
<A NAME="@default193"></A>
<DT><B><TT>DEFW</TT> = <I>x</I></B><DD> MOSFET default channel width in 
meters. (Default = 100u.)<BR>
<BR>
<A NAME="@default194"></A>
<DT><B><TT>DEFAD</TT> = <I>x</I></B><DD> MOSFET default drain diffusion area
in square meters. (Default = 0.)<BR>
<BR>
<A NAME="@default195"></A>
<DT><B><TT>DEFAS</TT> = <I>x</I></B><DD> MOSFET default source diffusion area
in square meters. (Default = 0.)<BR>
<BR>
<A NAME="@default196"></A>
<A NAME="@default197"></A>
<DT><B><TT>SEED</TT> = <I>x</I></B><DD> Seed used by the random number
generator. (Default = 1.) (ECA-2 equivalent = <TT>Random</TT>.)
(Not available in SPICE.) The same random numbers will be used
every time, determined by this seed number. Setting this to
zero is a special case, causing each run to start from a random
point.<BR>
<BR>
<A NAME="@default198"></A>
<A NAME="@default199"></A>
<DT><B><TT>WCZERO</TT> = <I>x</I></B><DD> Worst case zero window. (Default
= 1e-9) (Not available in SPICE.) Sets a window for the
difference in a DC or bias worst case analysis. Differences
less than this are assumed to be zero, for purposes of setting
direction flags. This prevents cluttering up the screen with
very small numbers that are essentially zero.<BR>
<BR>
<A NAME="@default200"></A>
<A NAME="@default201"></A>
<DT><B><TT>DAMPMAX</TT> = <I>x</I></B><DD> Normal Newton damping factor.
(Default = 1.) Sets the damping factor for iteration by damped
Newton's method, used when all is well. It must be between 0 and 1,
as close to 1 as possible and still achieve convergence. The useful
range is from .9 to 1. Setting <TT>DAMPMAX</TT> too low will probably cause
convergence to a nonsense result.<BR>
<BR>
<DT><B><TT>DAMPMIN</TT> = <I>x</I></B><DD> Newton damping factor in problem
cases. (Default = .5) Sets the damping factor for iteration by
damped Newton's method, used when there are problems. It must be
between 0 and 1, and is usually set somewhat less than <TT>DAMPMAX</TT>.
The useful range is from .5 to .9. Setting it lower than .5 may
cause convergence to a nonsense result. Aside from that, a lower
value (but less than <TT>DAMPMAX</TT>) tends to improve robustness at
the expense of convergence speed.<BR>
<BR>
<DT><B><TT>DAMPSTrategy</TT> = <I>x</I></B><DD> Damping strategy. (Default =
0) The actual damping factor to use is determined by heuristics.
Normally the damping factor is <TT>DAMPMAX</TT>. It is reduced to
<TT>DAMPMIN</TT> when certain conditions occur, then it drifts back
up on subsequent iterations. This parameter turns the various
heuristics on or off. The number to use is the sum of the following
flags.
<DL COMPACT=compact><DT><DD>1 the second iteration on any voltage or time step. (usually
helps robustness, but always increases iteration count.)<BR>
<BR>
<DT><DD>2 if the voltage at any nonlinear node exceeds the range
determined by <TT>VMIN</TT>, <TT>VMAX</TT>, and <TT>LIMIT</TT>. (usually
not desirable.)<BR>
<BR>
<DT><DD>4 if any device limiting algorithm is activated. (usually
not desirable.)<BR>
<BR>
<DT><DD>10 when any device crosses a region boundary. (usually
desirable and has little cost.)<BR>
<BR>
<DT><DD>20 when a FET or BJT is reversed. (usually helps robustness.
sometimes increases iteration count.)</DL>
<A NAME="@default202"></A>
<A NAME="@default203"></A>
<DT><B><TT>FLOOR</TT> = <I>x</I></B><DD> Effective zero value. (Default =
1e-21) Results values less than <TT>FLOOR</TT> are shown as zero. Other
small numbers are rounded to the nearest <TT>FLOOR</TT>.<BR>
<BR>
<DT><B><TT>VFLOOR</TT> = <I>x</I></B><DD> Effective zero value for voltage probes.
(Default = 1e-15) Results values less than <TT>VFLOOR</TT> are shown as
zero. Other small numbers are rounded to the nearest <TT>VFLOOR</TT>.<BR>
<BR>
<A NAME="@default204"></A>
<A NAME="@default205"></A>
<DT><B><TT>TEMPAMB</TT> = <I>x</I></B><DD> Simulation temperature.
(Default = 27<SUP><FONT SIZE=2><FONT FACE=symbol>°</FONT></FONT></SUP> C.) Sets the ambient temperature, in
degrees Celsius. This is the temperature at which the
simulation takes place, unless changed by some other command.<BR>
<BR>
<A NAME="@default206"></A>
<A NAME="@default207"></A>
<A NAME="@default208"></A>
<A NAME="@default209"></A>
<DT><B><TT>Short</TT> = <I>x</I></B><DD> Resistance of voltage source or
short. (Default = 1e-7 or 10 µ<FONT FACE=symbol>W</FONT>.) Sets the default
resistance of voltage sources. In some cases, inductors are
replaced by resistors, if so, this is the value. It is also
the resistance used to replace short circuits anywhere they are
not allowed and the program finds one.<BR>
<BR>
<A NAME="@default210"></A>
<A NAME="@default211"></A>
<DT><B><TT>TRansits</TT> = <I>x</I></B><DD> Mixed mode transition count. (Default = 2)
Sets the number of ``good'' transitions for a supposedly digital signal
to be accepted as digital.<BR>
<BR>
<A NAME="@default212"></A>
<A NAME="@default213"></A>
<A NAME="@default214"></A>
<DT><B><TT>IN</TT> = <I>x</I></B><DD> Input width. (Default = 80.)
Sets the last column read from each line of input. Columns
past this are ignored. This option is present only for SPICE
compatibility, through the <TT>width</TT> command, which is an
alias for <TT>options</TT>.<BR>
<BR>
<A NAME="@default215"></A>
<A NAME="@default216"></A>
<DT><B><TT>OUT</TT> = <I>x</I></B><DD> Output width. (Default = 80.)
Sets the output print width, for tables and character graphics.<BR>
<BR>
<A NAME="@default217"></A>
<A NAME="@default218"></A>
<DT><B><TT>XDivisions</TT> = <I>x</I></B><DD> X axis divisions. (Default = 4)
Sets the number of divisions on the X axis for plotting.<BR>
<BR>
<A NAME="@default219"></A>
<A NAME="@default220"></A>
<DT><B><TT>YDivisions</TT> = <I>x</I></B><DD> Y axis divisions. (Default = 4)
Sets the number of divisions on the Y axis for plotting.<BR>
<BR>
<DT><B><TT>ORder</TT> = <I>x</I></B><DD> Equation ordering. (Default = auto.)
Determines how external node numbers are mapped to internal numbers. The
values are <TT>FORward</TT>, <TT>REVerse</TT>, and <TT>AUTo</TT>.<BR>
<BR>
<DT><B><TT>MODe</TT> = <I>x</I></B><DD> Simulation mode selection. (Default = mixed.)
Values are <TT>ANAlog</TT>, <TT>DIGital</TT>, and <TT>MIXed</TT>. In analog mode,
logic elements (type U) are replaced by their subcircuits as if they were
type X. In digital mode, logic elements are simulated as digital regardless
of whether the signals are proper or not, as in traditional mixed-mode
simulation. In mixed mode, logic elements may be simulated as analog or
digital depending on the signals present.<BR>
<BR>
<A NAME="@default221"></A>
<DT><B><TT>BYPass</TT></B><DD> Bypass model evaluation if appropriate. If the last two
iterations indicate that an element is converged or dormant, do not evaluate
it but use its old values directly. (Default)<BR>
<BR>
<A NAME="@default222"></A>
<DT><B><TT>VBYpass</TT></B><DD> Check only voltage to bypass model evaluation. This
produces a faster but possibly less accurate simulation.<BR>
<BR>
<DT><B><TT>NOBYpass</TT></B><DD> Do not bypass model evaluation.<BR>
<BR>
<A NAME="@default223"></A>
<DT><B><TT>LUBypass</TT></B><DD> Bypass parts of LU decomposition if appropriate. If
only a few elements of the matrix were changed solve only those parts
of the LU matrix that depend on them. (Default)<BR>
<BR>
<DT><B><TT>NOLUbypass</TT></B><DD> Do not bypass parts of LU decomposition. Solve
the entire LU matrix whenever a matrix solution is called for regardless
of whether it is actually needed. <BR>
<BR>
<A NAME="@default224"></A>
<DT><B><TT>INCmode</TT></B><DD> Incrementally update the matrix. Instead of 
rebuilding the matrix on every iteration, keep as much of the old 
matrix as possible and make incremental changes. (Default)<BR>
<BR>
<DT><B><TT>NOIncmode</TT></B><DD> Do not incrementally update the matrix. This
eliminates a possible cause of roundoff error at the expense of a slower
simulation.<BR>
<BR>
<DT><B><TT>TRACELoad</TT></B><DD> Use a queue to only load changed elements
to the matrix. This results in faster loading and has no known
drawbacks. (Default)<BR>
<BR>
<DT><B><TT>NOTRACELoad</TT></B><DD> Do not use a queue to only load changed
elements to the matrix. Instead, load all elements, even if they
are unchanged or zero. This is always slower, and is forced if
"noincmode".<BR>
<BR>
<A NAME="@default225"></A>
<A NAME="@default226"></A>
<DT><B><TT>LIMIT</TT> = <I>x</I></B><DD> Internal differential branch voltage
limit. (Default = 1e10, essentially disabled.) All circuit branch
voltages may be limited to ± <I>x</I> to aid in convergence. This is
intended as a convergence aid only. It may or may not help.<BR>
<BR>
<DT><B><TT>VMIN</TT> = <I>x</I></B><DD> Negative node voltage limit. (Default
= -30) All node voltages may be limited to -<I>x</I> to aid in convergence
and prevent numeric overflow. This is intended as a convergence
aid only. It may or may not help.<BR>
<BR>
<DT><B><TT>VMAX</TT> = <I>x</I></B><DD> Positive node voltage limit. (Default
= 30) All node voltages may be limited to +<I>x</I> to aid in convergence
and prevent numeric overflow. This is intended as a convergence
aid only. It may or may not help.<BR>
<BR>
<A NAME="@default227"></A>
<A NAME="@default228"></A>
<A NAME="@default229"></A>
<DT><B><TT>DTMIn</TT> = <I>x</I></B><DD> Minimum time step. (Default = 1e-12.)
The smallest internal time step in transient analysis. The <TT>transient</TT> command <TT>dtmin</TT> option and the <TT>dtratio</TT> option
override it if it is bigger.<BR>
<BR>
<DT><B><TT>DTRatio</TT> = <I>x</I></B><DD> The ratio between minimum and maximum
time step. (Default = 1e9).<BR>
<BR>
<A NAME="@default230"></A>
<A NAME="@default231"></A>
<DT><B><TT>RSTray</TT></B><DD> Include series resistance in device models. This 
creates internal nodes and results in a significant speed and memory 
penalty. It also makes convergence characteristics worse.<BR>
<BR>
<DT><B><TT>NORSTray</TT></B><DD> Do not include series resistance in device
models. This results in faster simulations and better numerical
accuracy at the expense of model accuracy. Differences between
<TT>rstray</TT> and <TT>norstray</TT> have been observed to be insignificant
most of the time. Some popular commercial versions of SPICE do
not implement series resistance at all, so <TT>norstray</TT> may be
more consistent with other simulators.(Default)<BR>
<BR>
<A NAME="@default232"></A>
<A NAME="@default233"></A>
<A NAME="@default234"></A>
<DT><B><TT>CSTray</TT></B><DD> Include capacitance in device models. This may
create internal nodes and result in a significant speed and memory 
penalty. It also may make convergence characteristics worse. (Default)<BR>
<BR>
<DT><B><TT>NOCSTray</TT></B><DD> Do not include capacitance in device models.
This results in faster simulations and better numerical accuracy
at the expense of model accuracy. Differences between <TT>cstray</TT>
and <TT>nocstray</TT> are usually significant, since often the strays
are the dominant reactive elements.<BR>
<BR>
<A NAME="@default235"></A>
<A NAME="@default236"></A>
<DT><B><TT>Harmonics</TT> = <I>x</I></B><DD> Harmonics in Fourier analysis.
(Default = 9) The number of harmonics to display in a Fourier
analysis, unless specified otherwise.<BR>
<BR>
<DT><B><TT>TRSTEPGrow</TT> = <I>x</I></B><DD> The maximum internal step size
growth in transient analysis. (Default = 2.)<BR>
<BR>
<DT><B><TT>TRSTEPShrink</TT> = <I>x</I></B><DD> The amount to decrease the
transient step size by when convergence fails. (Default = 8.)<BR>
<BR>
<DT><B><TT>TRReject</TT> = <I>x</I></B><DD> Transient error rejection threshold.
(Default = .5) Controls how bad the truncation error must be to
reject a time step. A value of .5 means that if the step reqested
is smaller than .5 times the step size used, the current step will
be rejected. If the new step is .8 times the old step size it will
be adjusted but the step just calculated will not be rejected.</DL>


<H3>2.32.5&nbsp;&nbsp;Examples</H3>
<DL COMPACT=compact><DT><B><TT>options</TT></B><DD> Display the present settings.<BR>
<BR>
<DT><B><TT>options itl1=50</TT></B><DD> Allows 50 iterations in a <TT>dc</TT> or <TT>op</TT> analysis.</DL>

	
</BODY>
</HTML>
