%$Id: q.tex,v 22.19 2002/09/30 00:06:15 al Exp $
% man circuit q .
% Copyright (C) 2001 Albert Davis
% Author: Albert Davis <aldavis@ieee.org>
%
% This file is part of "Gnucap", the Gnu Circuit Analysis Package
%
% This program is free software; you can redistribute it and/or modify
% it under the terms of the GNU General Public License as published by
% the Free Software Foundation; either version 2, or (at your option)
% any later version.
%
% This program is distributed in the hope that it will be useful,
% but WITHOUT ANY WARRANTY; without even the implied warranty of
% MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
% GNU General Public License for more details.
%
% You should have received a copy of the GNU General Public License
% along with this program; if not, write to the Free Software
% Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA
% 02111-1307, USA.
%------------------------------------------------------------------------
\section{{\tt Q}: Bipolar Junction Transistor}
%------------------------------------------------------------------------
\subsection{Syntax}
\begin{verse}
{\tt Q}{\it xxxxxxx nc nb ne ns mname} \{{\it area}\} \{{\it args}\}\\
{\tt .BJT} {\it label nc nb ne ns mname} \{{\it area}\} \{{\it args}\}
\end{verse}
%------------------------------------------------------------------------
\subsection{Purpose}

Bipolar junction transistor,
%------------------------------------------------------------------------
\subsection{Comments}

{\it Nc}, {\it nb}, {\it ne}, and {\it ns} are the collector, base,
emitter, and substrate nodes, respectively.  {\it Mname} is the model
name.

{\it Area} is a unit-less multiplier for the area.

The options {\tt rstray} and {\tt norstray} determines whether or not
series resistances are included. {\tt rstray} is the default.  {\tt
Norstray} is the equivalent of setting the model parameters {\tt rc},
{\tt re}, and {\tt rb} all to zero.

Entering a parameter value of 0 is not the same as not specifying
it.  This behavior is not compatible with SPICE.  In SPICE, a value
of 0 is often interpreted as not specified, with the result being
to calculate it some other way.  If you want it to be calculated,
don't specify it.

Another subtle difference from SPICE is that Gnucap may omit some
unnecessary parts of the model, which may affect some reported
values.  It should not affect any voltages or currents.  For example,
if the gate and drain are tied, Cgs will be omitted from the model,
so the printed value for Cgdovl and Cgd will be 0, which will
disagree with SPICE.  It doesn't matter because a shorted capacitor
can store no charge.
%------------------------------------------------------------------------
\subsection{Element Parameters}

\subsubsection{Basic Spice compatible parameters}

\begin{description}

\item[{\tt Area} = {\it x}]
Junction area.  (Default = {\tt 1}) This is a scaling parameter, with
no relevant actual units.

\item[{\tt OFF}] 
(Default = not specified) If this word is specified, the initial guess
will assume the device is off.

\item[{\tt TEMP} = {\it x}]
Junction temperature. (Default = the global temperature.)

\item[{\tt ICVBE} = {\it x}]
Initial condition, Vbe.  (Default = NA) Use this as the initial
condition, when the {\tt UIC} option is specified.  The syntax is
different from Spice, but the function is the same.

\item[{\tt ICVCE} = {\it x}]
Initial condition, Vce.  (Default = NA) Use this as the initial
condition, when the {\tt UIC} option is specified.  The syntax is
different from Spice, but the function is the same.

\end{description}
%------------------------------------------------------------------------
\subsection{Model Parameters}

\subsubsection{Basic DC parameters}

\begin{description}

\item[{\tt BF} = {\it x}]
Ideal maximum forward beta. (Default = 100)  Alternate name is {\tt BFM}.

\item[{\tt BR} = {\it x}]
Ideal maximum reverse beta.  (Default = 1)  Alternate name is {\tt BRM}.

\item[{\tt IBC} = {\it x}]
BC Transport saturation Current per area.  (Default = IS) If omitted,
{\tt IS} is used.  You should specify either {\tt IS} or {\tt IBC},
not both.

\item[{\tt IBE} = {\it x}]
BE Transport saturation Current per area.  (Default = IS) If omitted,
{\tt IS} is used.  You should specify either {\tt IS} or {\tt IBE},
not both.

\item[{\tt IS} = {\it x}]
Transport saturation Current per area.  (Default = 1e-16) If {\tt IBE}
and {\tt IBC} are specified, they are used instead.  Do not specify
both.

\item[{\tt NF} = {\it x}]
Forward current emission coefficient.  (Default = 1)

\item[{\tt NR} = {\it x}]
Reverse current emission coefficient. (Default = 1)

\end{description}

\subsubsection{Base width modulation}

\begin{description}

\item[{\tt VAF} = {\it x}]
Forward Early voltage.  (Default = Infinite) Alternate names are {\tt
VA} and {\tt VBF}.

\item[{\tt VAR} = {\it x}]
Reverse Early voltage.  (Default = Infinite)  Alternate name is {\tt VB}.

\end{description}

\subsubsection{Low current beta degeneration}

\begin{description}

\item[{\tt ISC} = {\it x}]
B-C leakage saturation current.  (Default = c4 * is)

\item[{\tt C4} = {\it x}]
B-C leakage scale factor. (Default = 0)  Alternate name is {\tt JLC}.

\item[{\tt NC} = {\it x}]
B-C leakage emission coefficient.  (Default = 2)

\item[{\tt ISE} = {\it x}]
B-E leakage saturation current.  (Default = c2 * is)

\item[{\tt C2} = {\it x}]
B-E leakage scale factor.  (Default = 0)  Alternate name is {\tt JLE}.

\item[{\tt NE} = {\it x}]
B-E leakage emission coefficient.  (Default = 1.5)

\end{description}

\subsubsection{High current beta degeneration}

\begin{description}

\item[{\tt IKF} = {\it x}]
Forward beta roll-off corner current.  (Default = Infinite) Alternate
names are {\tt JBF} and {\tt IK}.

\item[{\tt IKR} = {\it x}]
Reverse beta roll-off corner current.  (Default = Infinite) Alternate
name is {\tt JBR}.

\end{description}

\subsubsection{Parasitic resistance}

\begin{description}

\item[{\tt IRB} = {\it x}]
Current for base resistance=(rb+rbm)/2".  (Default = Infinite) Current
where base resistance falls halfway to its minimum value. Alternate
name is {\tt JRB}.

\item[{\tt RB} = {\it x}]
Zero bias base resistance.  (Default = 0)

\item[{\tt RBM} = {\it x}]
Minimum base resistance at high current.  (Default = rb)

\item[{\tt RE} = {\it x}]
Emitter resistance.  (Default = 0)

\item[{\tt RC} = {\it x}]
Collector resistance.  (Default = 0)

\end{description}

\subsubsection{Junction capacitance}

\begin{description}

\item[{\tt CJC} = {\it x}]
Zero bias B-C depletion capacitance.  (Default = 0)

\item[{\tt CJE} = {\it x}]
Zero bias B-E depletion capacitance.  (Default = 0)

\item[{\tt CJS} = {\it x}]
Zero bias C-S capacitance.  (Default = 0)  Alternate name is {\tt CCS}.

\item[{\tt FC} = {\it x}]
Coefficient for forward-bias depletion capacitance formula.  (Default
= .5)

\item[{\tt MJC} = {\it x}]
B-C junction grading coefficient.  (Default = .33) Alternate names are
{\tt MJ} and {\tt MC}.

\item[{\tt MJE} = {\it x}]
B-E junction grading coefficient.  (Default = .33) Alternate name is
{\tt ME}.

\item[{\tt MJS} = {\it x}]
Substrate junction grading coefficient.  (Default = 0) Alternate names
are {\tt MS} and {\tt MSUB}.

\item[{\tt VJC} = {\it x}]
B-C built in potential.  (Default = .75)  Alternate name is {\tt PC}.

\item[{\tt VJE} = {\it x}]
B-E built in potential.  (Default = .75) Alternate name is {\tt PE}.

\item[{\tt VJS} = {\it x}]
Substrate junction built in potential.  (Default = .75)  Alternate name
is {\tt PS}.

\item[{\tt XCJC} = {\it x}]
Fraction of B-C capacitance connected to internal base node.  (Default = 1)

\end{description}

\subsubsection{Parasitic capacitance}

\begin{description}

\item[{\tt CBCP} = {\it x}]
External B-C constant parasitic capacitance.  (Default = 0)

\item[{\tt CBEP} = {\it x}]
External B-E constant parasitic capacitance.  (Default = 0)

\item[{\tt CBSP} = {\it x}]
External B-S constant parasitic capacitance for lateral transistors.
(Default = 0)

\item[{\tt CCSP} = {\it x}]
External B-C constant parasitic capacitance for vertical transistors.
(Default = 0)

\end{description}

\subsubsection{Transit time}

\begin{description}

\item[{\tt ITF} = {\it x}]
High current dependence of TF.  (Default = 0)

\item[{\tt PTF} = {\it x}]
Excess phase at freq=1.0/(TF*2PI) Hz.  (Default = 0)

\item[{\tt TF} = {\it x}]
Ideal forward transit time.  (Default = 0)

\item[{\tt TR} = {\it x}]
Ideal reverse transit time.  (Default = 0)

\item[{\tt VTF} = {\it x}]
Voltage giving VBC dependence of TF.  (Default = Infinite)

\item[{\tt XTF} = {\it x}]
Coefficient for bias dependence of TF.  (Default = 0)

\end{description}

\subsubsection{Temperature effects}

\begin{description}

\item[{\tt XTB} = {\it x}]
Forward and reverse beta temperature exponent.  (Default = 0)

\item[{\tt XTI} = {\it x}]
Temperature exponent for effect on IS.  (Default = 3)

\item[{\tt EG} = {\it x}]
Energy gap for IS temperature dependency.  (Default = 1.11)

\item[{\tt TNOM} = {\it x}]
Parameter measurement temperature, Celsius.  (Default = 27)

\end{description}
%------------------------------------------------------------------------
\subsection{Probes}

\begin{description}

\item[{\tt VBEInt}] Base-emitter internal voltage.

\item[{\tt VBCInt}] Base-collector internal voltage.

\item[{\tt VBXInt}] External base to internal base voltage.

\item[{\tt VCSInt}] Collector-substrate internal voltage.

\item[{\tt VBS}] Base-substrate voltage.

\item[{\tt VBE}] Base-emitter voltage.

\item[{\tt VBC}] Base-collector voltage.

\item[{\tt VCS}] Collector-substrate voltage.

\item[{\tt VCB}] Collector-base voltage.

\item[{\tt VCE}] Collector-emitter voltage.

\item[{\tt VES}] Emitter-substrate voltage.

\item[{\tt VEB}] Emitter-base voltage.

\item[{\tt VEC}] Emitter-collector voltage.

\item[{\tt VB}] Base-ground voltage.

\item[{\tt VC}] Collector-ground voltage.

\item[{\tt VE}] Emitter-ground voltage.

\item[{\tt VS}] Substrate-ground voltage.

\item[{\tt VBI}] Internal Base-ground voltage.

\item[{\tt VCI}] Internal Collector-ground voltage.

\item[{\tt VEI}] Internal Emitter-ground voltage.

\item[{\tt ICE}] Collector-emitter current.

\item[{\tt ICEOffset}] Offset part of ICE.

\item[{\tt GO}] Output (collector-emitter) conductance.

\item[{\tt GM}] Transconductance.

\item[{\tt IPI}] Base-emitter current.

\item[{\tt IPIOffset}] Offset part of IPI.

\item[{\tt GPI}] Base-emitter conductance.

\item[{\tt IMU}] Base-collector current.

\item[{\tt IMUOffset}] Offset part of IMU.

\item[{\tt GMU}] Base-collector conductance.

\item[{\tt IB}] Base current.

\item[{\tt GX}] Conductance of base spreading resistance.

\item[{\tt RX}] Base spreading resistance.

\item[{\tt IC}] Collector current.

\item[{\tt IE}] Emitter current.

\item[{\tt QBX}] External Base-collector charge.

\item[{\tt CQBX}] External Base-collector capacitance.

\item[{\tt CBX}] External Base-collector capacitance (CQBX).

\item[{\tt QBC}] Internal Base-collector charge.

\item[{\tt CQBC}] Internal Base-collector capacitance.

\item[{\tt CBC}] Internal Base-collector capacitance (CQBC).

\item[{\tt CMU}] Internal Base-collector capacitance (CQBC).

\item[{\tt QCS}] Collector-substrate charge.

\item[{\tt CQCS}] Collector-substrate capacitance.

\item[{\tt CCS}] Collector-substrate capacitance (CQCS).

\item[{\tt QBE}] Base-emitter charge.

\item[{\tt CQBE}] Base-emitter capacitance.

\item[{\tt CBE}] Base-emitter capacitance. (CQBE).

\item[{\tt CPI}] Base-emitter capacitance. (CQBE).

\item[{\tt P}] Power.

\item[{\tt PD}]
Power dissipated.  The power dissipated as heat.  It is always
positive and does not include power sourced.  It should be the same as
P because transistors cannot generate energy.

\item[{\tt PS}]
Power sourced.  The power sourced by the part.  It is always positive
and does not consider its own dissipation.  It should be 0 because
transistors cannot generate energy.

\end{description}

All parameters of the internal elements (Ice, Ipi, Imu, Rc, Re, Yb,
Cbx, Cbc, Ccs, Cbe, Cbcp, Cbep, Cbsp, Ccsp) are available.  To access
them, concatenate the labels for the internal element with this
device, separated by a dot.  Cbe.Q6 is the base to emitter capacitance
of Q6.

In this release, there are no probes available in AC analysis except
for the internal elements.
%------------------------------------------------------------------------
%------------------------------------------------------------------------
